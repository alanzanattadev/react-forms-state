{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap b599601eddd0715d411b","webpack:///external {\"root\":\"immutable\",\"commonjs2\":\"immutable\",\"commonjs\":\"immutable\",\"amd\":\"immutable\"}","webpack:///./lib/StateValueHelpers.js","webpack:///./node_modules/process/browser.js","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external {\"root\":\"Rx\",\"commonjs2\":\"rxjs\",\"commonjs\":\"rxjs\",\"amd\":\"rxjs\"}","webpack:///./lib/FormEvents.js","webpack:///./lib/ValidationHelpers.js","webpack:///./node_modules/prop-types/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/fbjs/lib/emptyFunction.js","webpack:///./node_modules/fbjs/lib/invariant.js","webpack:///./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./lib/StatePathHelpers.js","webpack:///./lib/StateDispatcher.js","webpack:///./lib/FormElement.js","webpack:///./node_modules/fbjs/lib/warning.js","webpack:///./lib/index.js","webpack:///./lib/Form.js","webpack:///./node_modules/prop-types/factoryWithTypeCheckers.js","webpack:///./node_modules/prop-types/checkPropTypes.js","webpack:///./node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./lib/FormWatcher.js","webpack:///./lib/ValidationComposition.js","webpack:///./lib/FormModel.js"],"names":["getJavascriptEntity","getImmutableEntity","getValue","setValue","obj","toJS","state","path","valuePath","reduce","red","value","i","undefined","immutState","global","process","env","FORMALIZR_ENV","console","log","newState","setIn","createValueChangeEvent","createInitialChangeEvent","createSubmitChangeEvent","createValidationFailedEvent","VALUE_CHANGE_EVENT_TYPE","INITIAL_CHANGE_EVENT_TYPE","SUBMIT_EVENT_TYPE","VALIDATION_FAILED_EVENT_TYPE","newValue","statePath","validation","type","newInitial","isValid","getErrorText","infos","Object","keys","length","setErrorForFieldAt","error","removeErrorForFieldAt","Validation","getErrorForFieldAt","getImmutPath","getNewPath","split","map","isNaN","p","parseInt","name","isArray","index","findIndex","id","StateDispatcher","convertIn","v","props","convertOut","WrappedComponent","Dispatcher","handlers","valueChangeObs","convertedValue","e","assign","context","attachToForm","getUncontrolledState","subscription","filter","do","subscribe","next","dispatchUncontrolledValues","unsubscribe","event","forEach","oldValue","set","rootValueChangeObs","onStateChange","convertedInParentValue","completeValue","Array","concat","update","list","item","onChange","addHandler","getHandler","setHandler","get","bind","Component","defaultProps","Observable","never","propTypes","any","func","childContextTypes","contextTypes","root","getUncontrolledValue","child","setUncontrolledValue","FormElement","NeverObservable","validate","FormElementHOC","FormElementContainer","configureObs","currentStatePath","getCurrentStatePath","elementName","parentValueChangeObs","getAssignedObs","__debug","warn","getHumanReadableIdentifier","getCompleteCurrentStatePath","startsWith","getNestedValidation","isControlled","disconnectFromFormController","setState","connectToUncontrolledHandlers","connectToFormController","nextProps","nextContext","completeStatePath","getNewPathPart","getNewCompletePathPart","uncontrolled","getStatePathToDispatch","sp","elem","string","bool","default","notNull","notUndefined","notEmpty","composeValidation","required","isTrue","maxLength","lessThan","convertConversionModelToConversionJobs","validateModel","Form","applyControl","checkIfModified","immutableInitial","FormHOC","WrappedComponentWithDispatcher","FormContainer","subject","Subject","scan","acc","newValidation","controlledNewState","_getInitialValue","share","_submit","publishBehavior","refCount","rootDispatcherGetter","oldInitial","formInputValue","mergeDeep","_mergeValues","onSubmit","onValidationFailed","getter","FormWatcher","watchPath","getWatchedPath","Error","selectObs","connectsToFormController","children","watchedValidation","watchedValue","watchedStatePath","errorString","validateNotNull","validateNotUndefined","validateNotEmpty","validates","validateValue","validated","validateTrue","max","validateMaxLength","accessor1","accessor2","validateLessThan","value1","getIn","value2","model","currentInPath","parentOutPath","currentNodeOutPath","out","out_path","currentOutPath","jobs","of","in","includes","nodeKey","childNode","childInPath","convertInModelValue","immutableValue","groupCollapsed","reduceRight","job","inPath","outPath","notConvertedValue","inValue","newRed","groupEnd","convertOutModelValue","outValue","validateState","wholeValidation","fieldValue"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA,+C;;;;;;;;ACAA;;;;;;;;QAMgBA,mB,GAAAA,mB;QAKAC,kB,GAAAA,kB;QAMAC,Q,GAAAA,Q;QAqBAC,Q,GAAAA,Q;;AAnChB;;AACA;;AAEO,SAASH,mBAAT,CAA6BI,GAA7B,EAA4C;AACjD,MAAIA,OAAO,QAAOA,GAAP,yCAAOA,GAAP,MAAc,QAArB,IAAiCA,IAAIC,IAAzC,EAA+C,OAAOD,IAAIC,IAAJ,EAAP,CAA/C,KACK,OAAOD,GAAP;AACN;;AAEM,SAASH,kBAAT,CAA4BG,GAA5B,EAA2C;AAChD,MAAIA,OAAO,QAAOA,GAAP,yCAAOA,GAAP,MAAc,QAArB,IAAiCA,IAAIC,IAAzC,EAA+C,OAAOD,GAAP,CAA/C,KACK,IAAI,QAAOA,GAAP,yCAAOA,GAAP,MAAc,QAAlB,EAA4B,OAAO,uBAAOA,GAAP,CAAP,CAA5B,KACA,OAAOA,GAAP;AACN;;AAEM,SAASF,QAAT,CAAkBI,KAAlB,EAAiCC,IAAjC,EAAoD;AACzD,MAAIA,QAAQ,EAAZ,EACE,OAAOP,oBAAoBM,KAApB,CAAP,CADF,KAEK;AACH,QAAI,QAAOA,KAAP,yCAAOA,KAAP,MAAgB,QAApB,EAA8B;AAC5B,UAAIE,YAAY,oCAAaD,IAAb,CAAhB;AACA,aAAOC,UAAUC,MAAV,CACL,UAACC,GAAD,EAAMC,KAAN,EAAaC,CAAb,EAAmB;AACjB,YAAIF,QAAQG,SAAR,IAAqBH,QAAQ,IAAjC,EAAuC;AACrC,iBAAOA,IAAIC,KAAJ,CAAP;AACD,SAFD,MAEO;AACL,iBAAOD,GAAP;AACD;AACF,OAPI,EAQLJ,KARK,CAAP;AAUD,KAZD,MAaE,OAAOA,KAAP;AACH;AACF;;AAEM,SAASH,QAAT,CAAkBG,KAAlB,EAAkCC,IAAlC,EAAgDI,KAAhD,EAAoE;AACzE,MAAIJ,QAAQ,EAAZ,EACE,OAAOI,KAAP,CADF,KAEK;AACH,QAAIG,aAAa,uBAAOR,KAAP,CAAjB;AACA,QACES,OAAOC,OAAP,IACAD,OAAOC,OAAP,CAAeC,GADf,IAEAF,OAAOC,OAAP,CAAeC,GAAf,CAAmBC,aAAnB,KAAqC,OAHvC,EAKEC,QAAQC,GAAR,CAAYd,KAAZ,EAAmBC,IAAnB,EAAyBI,KAAzB,EAAgCG,UAAhC;AACF,QAAMO,WAAWP,aACbA,WAAWQ,KAAX,CAAiB,oCAAaf,IAAb,CAAjB,EAAqCI,KAArC,EAA4CN,IAA5C,EADa,GAEbS,UAFJ;AAGA,WAAOO,QAAP;AACD;AACF,C;;;;;;;ACtDD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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AAOxB,UAAUC,MAAV,CAAiB,UAACC,GAAD,EAAMC,KAAN,EAAaC,CAAb,EAAmB;AACzC,gBAAIF,QAAQG,SAAR,IAAqBH,QAAQ,IAA7B,IAAqC,QAAOA,GAAP,yCAAOA,GAAP,MAAc,QAAvD,EAAiE;AAC/D,qBAAOA,IAAIC,KAAJ,CAAP;AACD,aAFD,MAEO;AACL,qBAAOD,GAAP;AACD;AACF,WANM,EAMJ,KAAK4B,KAND,CAAP;AAOD,SATD,MASO,OAAO,IAAP;AACR;AACF;;;wCAEmBN,S,EAA+B;AACjD,UAAIA,cAAc,EAAlB,EAAsB;AACpB,eAAO,IAAP;AACD,OAFD,MAEO;AACL,eAAO,IAAIa,UAAJ,CAAe,KAAKC,kBAAL,CAAwBd,SAAxB,CAAf,CAAP;AACD;AACF;;;;;;;;;;AC3FH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;;;;;;;AC7BA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;ACpBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+B;;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,qDAAqD;AACrD,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA,0BAA0B;AAC1B;AACA;AACA;;AAEA,2B;;;;;;;;ACtDA;AACA;AACA;AACA;AACA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CAAatF,IAAb,CACE,wCAAuBnE,KAAvB,EAA8BqB,SAA9B,EAAyCC,UAAzC,CADF,CADQ;AAAA,aAFZ;AAME,4BAAgB,KAAKkC,cANvB;AAOE,oBAAQ;AAAA,qBAAM,OAAKiG,OAAL,CAAatF,IAAb,CAAkB,0CAAlB,CAAN;AAAA;AAPV,aADF;AAWD;AAlK+B;;AAAA;AAAA,MAGN,gBAAMsB,SAHA;;AAqKlC+D,kBAAcxD,iBAAd,GAAkC;AAChCnC,oBAAc,oBAAUkC;AADQ,KAAlC;;AAIA,WAAOyD,aAAP;AACD,GA5KD;AA6KD,C;;;;;;;;AC1ND;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,6BAA6B;AAC7B,QAAQ;AACR;AACA;AACA;AACA;AACA,+BAA+B,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,4BAA4B;AAC5B,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,gCAAgC;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;AC/fA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gGAAgG;AAChG;AACA,SAAS;AACT;AACA;AACA,gGAAgG;AAChG;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;AC1DA;;;;;;;;;;AAEA;;;;AACA;;AAIA;;;;AACA;;;;AACA;;;;;;;;;;AAEA,IAA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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"immutable\"), require(\"react\"), require(\"rxjs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"immutable\", \"react\", \"rxjs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactFormsState\"] = factory(require(\"immutable\"), require(\"react\"), require(\"rxjs\"));\n\telse\n\t\troot[\"ReactFormsState\"] = factory(root[\"immutable\"], root[\"React\"], root[\"Rx\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b599601eddd0715d411b","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"immutable\",\"commonjs2\":\"immutable\",\"commonjs\":\"immutable\",\"amd\":\"immutable\"}\n// module id = 0\n// module chunks = 0","\"use babel\";\n// @flow\n\nimport { fromJS } from \"immutable\";\nimport { getImmutPath } from \"./StatePathHelpers\";\n\nexport function getJavascriptEntity(obj: any): any {\n  if (obj && typeof obj == \"object\" && obj.toJS) return obj.toJS();\n  else return obj;\n}\n\nexport function getImmutableEntity(obj: any): any {\n  if (obj && typeof obj == \"object\" && obj.toJS) return obj;\n  else if (typeof obj == \"object\") return fromJS(obj);\n  else return obj;\n}\n\nexport function getValue(state: Object, path: string): any {\n  if (path == \"\")\n    return getJavascriptEntity(state);\n  else {\n    if (typeof state == \"object\") {\n      let valuePath = getImmutPath(path);\n      return valuePath.reduce(\n        (red, value, i) => {\n          if (red !== undefined && red !== null) {\n            return red[value];\n          } else {\n            return red;\n          }\n        },\n        state,\n      );\n    } else\n      return state;\n  }\n}\n\nexport function setValue(state?: Object, path: string, value: any): Object {\n  if (path == \"\")\n    return value;\n  else {\n    let immutState = fromJS(state);\n    if (\n      global.process &&\n      global.process.env &&\n      global.process.env.FORMALIZR_ENV === \"DEBUG\"\n    )\n      console.log(state, path, value, immutState);\n    const newState = immutState\n      ? immutState.setIn(getImmutPath(path), value).toJS()\n      : immutState;\n    return newState;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/StateValueHelpers.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = 2\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 3\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"Rx\",\"commonjs2\":\"rxjs\",\"commonjs\":\"rxjs\",\"amd\":\"rxjs\"}\n// module id = 4\n// module chunks = 0","\"use babel\";\n// @flow\n\nimport { Validation } from \"./ValidationHelpers\";\n\nexport const VALUE_CHANGE_EVENT_TYPE = \"VALUE_CHANGE\";\nexport const INITIAL_CHANGE_EVENT_TYPE = \"INITIAL_CHANGE\";\nexport const SUBMIT_EVENT_TYPE = \"SUBMIT\";\nexport const VALIDATION_FAILED_EVENT_TYPE = \"VALIDATION_FAILED\";\n\nexport type ValueChangeEventType = {\n  type: typeof VALUE_CHANGE_EVENT_TYPE,\n  newValue: any,\n  statePath: string,\n  validation: Validation,\n};\n\nexport function createValueChangeEvent(\n  newValue: any,\n  statePath: string,\n  validation: Validation,\n): ValueChangeEventType {\n  return {\n    type: VALUE_CHANGE_EVENT_TYPE,\n    newValue,\n    statePath,\n    validation,\n  };\n}\n\nexport type InitialChangeEventType = {\n  type: typeof INITIAL_CHANGE_EVENT_TYPE,\n  newValue: any,\n  validation?: Validation,\n};\n\nexport function createInitialChangeEvent(\n  newInitial: any,\n): InitialChangeEventType {\n  return {\n    type: INITIAL_CHANGE_EVENT_TYPE,\n    newValue: newInitial,\n  };\n}\n\nexport type SubmitChangeEventType = {\n  type: typeof SUBMIT_EVENT_TYPE,\n};\n\nexport function createSubmitChangeEvent(): SubmitChangeEventType {\n  return {\n    type: SUBMIT_EVENT_TYPE,\n  };\n}\n\nexport type ValidationFailedEventType = {\n  type: typeof VALIDATION_FAILED_EVENT_TYPE,\n  validation: Validation,\n};\n\nexport function createValidationFailedEvent(\n  validation: Validation,\n): ValidationFailedEventType {\n  return {\n    type: VALIDATION_FAILED_EVENT_TYPE,\n    validation: validation,\n  };\n}\n\nexport type FormEvent =\n  | ValueChangeEventType\n  | InitialChangeEventType\n  | SubmitChangeEventType\n  | ValidationFailedEventType;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/FormEvents.js","\"use babel\";\n// @flow\n\nimport { fromJS } from \"immutable\";\nimport { getJavascriptEntity } from \"./StateValueHelpers\";\nimport { getImmutPath } from \"./StatePathHelpers\";\n\nexport type ValidationError =\n  | { [key: string | number]: ValidationError }\n  | string;\nexport type ValidationInfo =\n  | { [key: string | number]: ValidationInfo }\n  | ValidationError\n  | boolean;\n\nexport function isValid(validation: Validation): boolean {\n  if (typeof validation === \"boolean\") return validation;\n  else if (validation == null) return true;\n  else if (\n    typeof validation === \"object\" &&\n    typeof validation.infos === \"object\" &&\n    validation.infos !== null &&\n    Object.keys(validation.infos).length === 0\n  )\n    return true;\n  else {\n    return validation.infos === true || validation.infos == null;\n  }\n}\n\nexport function getErrorText(validation: Validation): ?string {\n  if (typeof validation.infos === \"string\") return validation.infos;\n  else return null;\n}\n\nfunction setErrorForFieldAt(\n  infos: ValidationInfo,\n  statePath: string,\n  error: ?string,\n): ValidationInfo {\n  if (statePath == \"\" || infos == null || typeof infos != \"object\") {\n    return infos;\n  } else {\n    return fromJS(infos).setIn(getImmutPath(statePath), error).toJS();\n  }\n}\n\nfunction removeErrorForFieldAt(\n  infos: ValidationInfo,\n  statePath: string,\n): ValidationInfo {\n  return setErrorForFieldAt(infos, statePath, null);\n}\n\nexport class Validation {\n  infos: ValidationInfo;\n\n  constructor(infos: ValidationInfo = {}) {\n    this.infos = infos;\n  }\n\n  setErrorForFieldAt(statePath: string, error: string): Validation {\n    return new Validation(setErrorForFieldAt(this.infos, statePath, error));\n  }\n\n  removeErrorForFieldAt(statePath: string): Validation {\n    return new Validation(removeErrorForFieldAt(this.infos, statePath));\n  }\n\n  getErrorForFieldAt(statePath: string): ?ValidationError {\n    if (statePath === \"\") return getJavascriptEntity(this.infos);\n    else {\n      if (typeof this.infos === \"object\") {\n        let valuePath = getImmutPath(statePath);\n        return valuePath.reduce((red, value, i) => {\n          if (red !== undefined && red !== null && typeof red == \"object\") {\n            return red[value];\n          } else {\n            return red;\n          }\n        }, this.infos);\n      } else return null;\n    }\n  }\n\n  getNestedValidation(statePath: string): Validation {\n    if (statePath === \"\") {\n      return this;\n    } else {\n      return new Validation(this.getErrorForFieldAt(statePath));\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/ValidationHelpers.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/prop-types/index.js\n// module id = 7\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 8\n// module chunks = 0","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/fbjs/lib/emptyFunction.js\n// module id = 9\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/fbjs/lib/invariant.js\n// module id = 10\n// module chunks = 0","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/prop-types/lib/ReactPropTypesSecret.js\n// module id = 11\n// module chunks = 0","\"use babel\";\n// @flow\n\nexport function getImmutPath(path: string): Array<string | number> {\n  if (path == \"\") return [];\n  return path.split(\".\").map(p => isNaN(p) ? p : parseInt(p));\n}\n\nexport function getNewPath(\n  immutState: Object,\n  statePath: string,\n  name: string,\n): string {\n  if (isArray(getValue(immutState, statePath))) {\n    let index = getValue(immutState, statePath).findIndex(\n      obj => obj.id == name,\n    );\n    return `${statePath}${statePath.length > 0 ? \".\" : \"\"}${index}.value`;\n  } else {\n    return `${statePath}${statePath.length > 0 ? \".\" : \"\"}${name}`;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/StatePathHelpers.js","\"use babel\";\n// @flow\n\nimport React from \"react\";\nimport { fromJS, is, List } from \"immutable\";\nimport FormElement from \"./FormElement\";\nimport { setValue, getValue } from \"./StateValueHelpers\";\nimport Rx from \"rxjs\";\nimport { INITIAL_CHANGE_EVENT_TYPE } from \"./FormEvents\";\nimport type { FormEvent } from \"./FormEvents\";\nimport PropTypes from \"prop-types\";\n\nexport default function StateDispatcher(\n  convertIn: (v: any, props: Props) => any = (v, props) => v,\n  convertOut: (v: any, props: Props) => any = (v, props) => v,\n) {\n  return function(WrappedComponent: Class<React$Component<any, any>>) {\n    class Dispatcher extends React.Component<any, any> {\n      subscription: Rx.Subscription;\n      handlers: {\n        [key: string]: {\n          get: () => any,\n          set: (value: any) => void,\n        },\n      };\n      valueChangeObs: Rx.Observable<FormEvent>;\n\n      constructor(props) {\n        super(props);\n\n        this.handlers = {};\n        this.valueChangeObs = props.valueChangeObs.map(e => {\n          const convertedValue = convertIn(e.value, props);\n          if (convertedValue === e.value) return e;\n          else\n            return Object.assign({}, e, {\n              value: convertedValue,\n              validation: e.validation,\n              statePath:\n                e.type === INITIAL_CHANGE_EVENT_TYPE\n                  ? undefined\n                  : props.statePath,\n            });\n        });\n      }\n\n      componentDidMount() {\n        if (this.context.attachToForm != null)\n          this.context.attachToForm(() => this.getUncontrolledState());\n        this.subscription = this.valueChangeObs\n          .filter(e => e.type == INITIAL_CHANGE_EVENT_TYPE)\n          .do(e => {\n            if (\n              global.process &&\n              global.process.env &&\n              global.process.env.FORMALIZR_ENV === \"DEBUG\"\n            ) {\n              console.log(\n                `Dispatching uncontrolled values from ${this.props.statePath}`,\n              );\n            }\n          })\n          .subscribe({\n            next: e => this.dispatchUncontrolledValues(e),\n          });\n      }\n\n      componentWillUnmount() {\n        if (this.context.attachToForm != null) this.context.attachToForm(null);\n        this.subscription.unsubscribe();\n      }\n\n      dispatchUncontrolledValues(event) {\n        Object.keys(this.handlers).forEach(statePath => {\n          if (\n            event.oldValue === undefined ||\n            getValue(convertIn(event.value, this.props), statePath) !==\n              getValue(convertIn(event.oldValue, this.props), statePath)\n          )\n            this.handlers[statePath].set(\n              getValue(convertIn(event.value, this.props), statePath),\n            );\n        });\n      }\n\n      getChildContext() {\n        return {\n          valueChangeObs: this.valueChangeObs,\n          rootValueChangeObs: this.props.rootValueChangeObs,\n          onStateChange: (v, statePath, validation) => {\n            const convertedInParentValue = convertIn(\n              this.props.getValue(),\n              this.props,\n            );\n            const completeValue =\n              Array.isArray(convertedInParentValue) === false\n                ? Object.assign({}, convertedInParentValue, { [statePath]: v })\n                : List()\n                    .concat(convertedInParentValue)\n                    .update(list => {\n                      return list.update(\n                        list.findIndex(item => item.id === statePath),\n                        item => Object.assign({}, item, { value: v }),\n                      );\n                    });\n            const convertedValue = convertOut(completeValue, this.props);\n            // console.log(\n            //   \"On change\",\n            //   completeValue,\n            //   convertedValue,\n            //   completeValue !== convertedValue,\n            //   v,\n            //   statePath,\n            // );\n            if (\n              convertedValue !== completeValue ||\n              typeof convertedValue != typeof this.props.getValue()\n            )\n              this.props.onChange(\n                convertedValue,\n                this.props.statePath,\n                validation,\n              );\n            else\n              this.props.onChange(\n                v,\n                `${this.props.statePath}${this.props.statePath == \"\" ||\n                statePath == \"\"\n                  ? \"\"\n                  : \".\"}${statePath}`,\n                validation,\n              );\n          },\n          attachToForm: null,\n          addHandler: ((statePath, getHandler, setHandler) => {\n            this.handlers = Object.assign({}, this.handlers, {\n              [statePath]: {\n                get: getHandler,\n                set: setHandler,\n              },\n            });\n          }).bind(this),\n        };\n      }\n\n      getUncontrolledState() {\n        let value = Object.keys(this.handlers).reduce(\n          (red, statePath) =>\n            setValue(red, statePath, this.handlers[statePath].get()),\n          {},\n        );\n        return convertOut(value, this.props);\n      }\n\n      render() {\n        return <WrappedComponent {...this.props} />;\n      }\n    }\n\n    Dispatcher.defaultProps = Object.assign({}, WrappedComponent.defaultProps, {\n      onChange() {},\n      value: {},\n      valueChangeObs: Rx.Observable.never(),\n    });\n\n    Dispatcher.propTypes = {\n      valueChangeObs: PropTypes.any,\n      onChange: PropTypes.func,\n    };\n\n    Dispatcher.childContextTypes = {\n      valueChangeObs: PropTypes.any,\n      onStateChange: PropTypes.func,\n      addHandler: PropTypes.func,\n      attachToForm: PropTypes.func,\n      rootValueChangeObs: PropTypes.any,\n    };\n\n    Dispatcher.contextTypes = {\n      attachToForm: PropTypes.func,\n    };\n\n    return FormElement({\n      root: true,\n      getUncontrolledValue: child => child.getUncontrolledState(),\n      setUncontrolledValue: child => {},\n    })(Dispatcher);\n  };\n}\n\ntype Props = {\n  valueChangeObs?: Rx.Observable<FormEvent>,\n  onChange?: (v: any) => void,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/StateDispatcher.js","\"use babel\";\n// @flow\n\nimport React from \"react\";\nimport { getValue, setValue } from \"./StateValueHelpers\";\nimport {\n  INITIAL_CHANGE_EVENT_TYPE,\n  VALUE_CHANGE_EVENT_TYPE,\n  VALIDATION_FAILED_EVENT_TYPE,\n} from \"./FormEvents\";\nimport type { FormEvent } from \"./FormEvents\";\nimport Rx from \"rxjs\";\nimport { Validation } from \"./ValidationHelpers\";\nimport PropTypes from \"prop-types\";\n\nconst NeverObservable = Rx.Observable.never();\n\nexport default function FormElement(\n  {\n    root = false,\n    validate = () => true,\n    getUncontrolledValue,\n    setUncontrolledValue,\n  }: {\n    root?: boolean,\n    validate?: (value: any, props: Object) => boolean,\n    getUncontrolledValue?: () => any,\n    setUncontrolledValue?: () => any,\n  } = {},\n) {\n  return function FormElementHOC(\n    WrappedComponent: Class<React.Component<any, any>>,\n  ) {\n    class FormElementContainer extends React.Component<any, any> {\n      parentValueChangeObs: Rx.Subject<FormEvent>;\n      valueChangeObs: Rx.Subject<FormEvent>;\n      subscription: Rx.Subscription;\n      value: ?any;\n      validation: ?any;\n\n      constructor(props, context) {\n        super(props);\n\n        this.state = {\n          value: null,\n          validation: null,\n        };\n        this.configureObs(props, context);\n      }\n\n      getHumanReadableIdentifier(props, context) {\n        const currentStatePath = this.getCurrentStatePath(props, context, {});\n        return `ProxiedField with statePath ${currentStatePath != null &&\n        currentStatePath !== \"\"\n          ? currentStatePath\n          : '\"\"'} and elementName ${props.elementName != \"\" &&\n        props.elementName != undefined\n          ? props.elementName\n          : '\"\"'}`;\n      }\n\n      getAssignedObs(props, context) {\n        if (props.valueChangeObs) {\n          return props.valueChangeObs;\n        } else if (context.valueChangeObs) {\n          return context.valueChangeObs;\n        } else {\n          return NeverObservable;\n        }\n      }\n\n      configureObs(props, context) {\n        this.parentValueChangeObs = this.getAssignedObs(props, context);\n        if (this.parentValueChangeObs === NeverObservable && props.__debug)\n          console.warn(\n            `${this.getHumanReadableIdentifier(\n              props,\n              context,\n            )} hasn't received any valueChangeObs neither as props nor context. Maybe you have forgotten the FormController / StateDispatcher duo`,\n          );\n        this.valueChangeObs = this.parentValueChangeObs\n          .do(e => {\n            if (props.__debug) {\n              const path = this.getCompleteCurrentStatePath(\n                props,\n                context,\n                e.value,\n              );\n              if (path != \"\" && e.type === VALUE_CHANGE_EVENT_TYPE) {\n                console.log(\n                  \"FILTERING\",\n                  path,\n                  \"FOR STATEPATH\",\n                  e.statePath,\n                  \"PROPS\",\n                  props,\n                  \"CONTEXT\",\n                  context,\n                );\n              }\n            }\n          })\n          .filter(e => {\n            const path = this.getCompleteCurrentStatePath(\n              props,\n              context,\n              e.value,\n            );\n            return (\n              e.type === INITIAL_CHANGE_EVENT_TYPE ||\n              e.type === VALIDATION_FAILED_EVENT_TYPE ||\n              path.startsWith(e.statePath) ||\n              (root && e.statePath.startsWith(path))\n            );\n          })\n          .do(e => {\n            if (props.__debug) {\n              const path = this.getCompleteCurrentStatePath(\n                props,\n                context,\n                e.value,\n              );\n              if (path != \"\" && e.type === VALUE_CHANGE_EVENT_TYPE) {\n                console.log(\"REFRESHING\", path, \"FOR EVENT\", e);\n              }\n            }\n          })\n          .map(e =>\n            Object.assign({}, e, {\n              value: getValue(\n                e.value,\n                this.getCurrentStatePath(props, context, e.value),\n              ),\n              validation:\n                e.validation && e.validation instanceof Validation\n                  ? e.validation.getNestedValidation(\n                      this.getCurrentStatePath(props, context, e.value),\n                    )\n                  : e.validation,\n            }),\n          )\n          .do(e => {\n            if (props.__debug) {\n              console.log(\"FOUND VALUE:\", e);\n            }\n          });\n      }\n\n      connectToFormController(props, context) {\n        if (this.valueChangeObs && this.isControlled(props, context)) {\n          this.disconnectFromFormController();\n          this.subscription = this.valueChangeObs.subscribe(e => {\n            if (props.__debug) {\n              console.log(\n                \"Setting value\",\n                e,\n                `in ${root ? \"instance\" : \"state\"} mode`,\n              );\n            }\n            if (e.value === undefined) {\n              console.warn(\n                `${this.getHumanReadableIdentifier(\n                  props,\n                  context,\n                )} doesn't have any value set in the state, it may break`,\n              );\n            }\n            if (root) {\n              this.value = e.value;\n              this.validation = e.validation;\n            } else {\n              this.setState({\n                value: e.value,\n                validation: e.validation,\n              });\n            }\n          });\n        }\n      }\n\n      disconnectFromFormController() {\n        if (this.subscription) {\n          this.subscription.unsubscribe();\n        }\n      }\n\n      connectToUncontrolledHandlers(props, context) {\n        if (\n          props.elementName &&\n          context.addHandler &&\n          !this.isControlled(props, context)\n        ) {\n          if (getUncontrolledValue == null || setUncontrolledValue == null) {\n            console.warn(\n              `${this.getHumanReadableIdentifier(\n                props,\n                context,\n              )} is uncontrolled but has no getValue / setValue defined, thus it is disabled and not connected`,\n            );\n          } else {\n            context.addHandler(\n              this.getCurrentStatePath(props, context),\n              () =>\n                root\n                  ? this.getUncontrolledState()\n                  : getUncontrolledValue(this.child),\n              value =>\n                root\n                  ? this.child.dispatchUncontrolledValues({ value: value })\n                  : setUncontrolledValue(this.child, value),\n            );\n          }\n        }\n      }\n\n      componentDidMount() {\n        this.connectToUncontrolledHandlers(this.props, this.context);\n        this.connectToFormController(this.props, this.context);\n      }\n\n      componentWillReceiveProps(nextProps, nextContext) {\n        if (\n          this.parentValueChangeObs !==\n          this.getAssignedObs(nextProps, nextContext)\n        ) {\n          console.log(\n            `Reconnecting ${this.getHumanReadableIdentifier(\n              nextProps,\n              nextContext,\n            )}`,\n          );\n          this.configureObs(nextProps, nextContext);\n          this.connectToFormController(nextProps, nextContext);\n        }\n      }\n\n      componentWillUnmount() {\n        this.disconnectFromFormController();\n      }\n\n      getNewPathPart(props, context, v) {\n        let value = getValue(v, context.statePath || \"\");\n        if (typeof value == \"object\" && Array.isArray(value)) {\n          let index = value.findIndex(v => v.id == props.elementName);\n          return (index != -1 ? index : \"\") + \".value\";\n        } else {\n          return props.elementName;\n        }\n      }\n\n      getNewCompletePathPart(props, context, v) {\n        let value = getValue(v, context.completeStatePath || \"\");\n        if (typeof value == \"object\" && Array.isArray(value)) {\n          let index = value.findIndex(v => v.id == props.elementName);\n          return (index != -1 ? index : \"\") + \".value\";\n        } else {\n          return props.elementName;\n        }\n      }\n\n      getCurrentStatePath(props, context, value) {\n        if (context.statePath && context.statePath != \"\" && props.elementName)\n          return (\n            context.statePath + \".\" + this.getNewPathPart(props, context, value)\n          );\n        else if (props.elementName)\n          return this.getNewPathPart(props, context, value);\n        else if (context.statePath) return context.statePath;\n        else return \"\";\n      }\n\n      getCompleteCurrentStatePath(props, context, value) {\n        if (\n          props.valueChangeObs == null &&\n          context.completeStatePath &&\n          context.completeStatePath != \"\" &&\n          props.elementName\n        )\n          return (\n            context.completeStatePath +\n            \".\" +\n            this.getNewCompletePathPart(props, context, value)\n          );\n        else if (props.elementName)\n          return this.getNewCompletePathPart(props, context, value);\n        else if (props.valueChangeObs == null && context.completeStatePath)\n          return context.completeStatePath;\n        else return \"\";\n      }\n\n      isControlled(props, context) {\n        return props.uncontrolled || context.uncontrolled ? false : true;\n      }\n\n      getStatePathToDispatch(props, context) {\n        if (root) return \"\";\n        else return this.getCurrentStatePath(props, context);\n      }\n\n      getChildContext() {\n        return {\n          statePath: this.getStatePathToDispatch(this.props, this.context),\n          completeStatePath: this.getCompleteCurrentStatePath(\n            this.props,\n            this.context,\n          ),\n          uncontrolled: this.isControlled(this.props, this.context) === false,\n        };\n      }\n\n      getUncontrolledState() {\n        return this.child.getUncontrolledState();\n      }\n\n      render() {\n        const value =\n          this.state.value == undefined && this.props.value !== undefined\n            ? this.props.value\n            : this.state.value;\n        const validation =\n          this.state.validation == undefined &&\n          this.props.validation !== undefined\n            ? this.props.validation\n            : this.state.validation;\n        const statePath = this.getCurrentStatePath(this.props, this.context);\n        if (this.isControlled(this.props, this.context)) {\n          return (\n            <WrappedComponent\n              {...Object.assign({}, this.props, {\n                value: value,\n                validation: validation,\n                valueChangeObs: this.valueChangeObs,\n                rootValueChangeObs: this.context.rootValueChangeObs\n                  ? this.context.rootValueChangeObs\n                  : this.valueChangeObs,\n                onChange:\n                  this.props.onChange != null\n                    ? (newValue, sp) => {\n                        this.props.onChange(\n                          newValue,\n                          sp !== undefined ? sp : statePath,\n                          validate(newValue, this.props),\n                        );\n                      }\n                    : (newValue, sp) => {\n                        this.context.onStateChange(\n                          newValue,\n                          sp !== undefined ? sp : statePath,\n                          validate(newValue, this.props),\n                        );\n                      },\n                statePath: statePath,\n                getValue: root ? () => this.value : undefined,\n              })}\n              ref={elem => (this.child = elem)}\n            />\n          );\n        } else {\n          return (\n            <WrappedComponent\n              {...Object.assign({}, this.props, {\n                statePath: statePath,\n                getValue: root ? () => this.value : undefined,\n              })}\n              ref={elem => (this.child = elem)}\n            />\n          );\n        }\n      }\n    }\n\n    FormElementContainer.defaultProps = Object.assign(\n      {\n        uncontrolled: false,\n      },\n      {\n        elementName:\n          (WrappedComponent.defaultProps &&\n            WrappedComponent.defaultProps.elementName) ||\n          undefined,\n      },\n    );\n\n    FormElementContainer.contextTypes = {\n      statePath: PropTypes.string,\n      completeStatePath: PropTypes.string,\n      valueChangeObs: PropTypes.any,\n      onStateChange: PropTypes.func,\n      addHandler: PropTypes.func,\n      uncontrolled: PropTypes.bool,\n      rootValueChangeObs: PropTypes.any,\n    };\n\n    FormElementContainer.childContextTypes = {\n      statePath: PropTypes.string,\n      completeStatePath: PropTypes.string,\n      uncontrolled: PropTypes.bool,\n    };\n\n    return FormElementContainer;\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/FormElement.js","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar emptyFunction = require('./emptyFunction');\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = emptyFunction;\n\nif (process.env.NODE_ENV !== 'production') {\n  (function () {\n    var printWarning = function printWarning(format) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var argIndex = 0;\n      var message = 'Warning: ' + format.replace(/%s/g, function () {\n        return args[argIndex++];\n      });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // --- Welcome to debugging React ---\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch (x) {}\n    };\n\n    warning = function warning(condition, format) {\n      if (format === undefined) {\n        throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n      }\n\n      if (format.indexOf('Failed Composite propType: ') === 0) {\n        return; // Ignore CompositeComponent proptype check.\n      }\n\n      if (!condition) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n          args[_key2 - 2] = arguments[_key2];\n        }\n\n        printWarning.apply(undefined, [format].concat(args));\n      }\n    };\n  })();\n}\n\nmodule.exports = warning;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/fbjs/lib/warning.js\n// module id = 15\n// module chunks = 0","\"use babel\";\n// @flow\n\nexport { default as Form } from \"./Form\";\nexport { default as StateDispatcher } from \"./StateDispatcher\";\nexport { default as FormElement } from \"./FormElement\";\nexport { default as FormWatcher } from \"./FormWatcher\";\nexport { getValue } from \"./StateValueHelpers\";\nexport {\n  notNull,\n  notUndefined,\n  notEmpty,\n  composeValidation,\n  required,\n  isTrue,\n  maxLength,\n  lessThan,\n} from \"./ValidationComposition\";\nexport {\n  convertConversionModelToConversionJobs,\n  convertIn,\n  convertOut,\n  validateModel,\n} from \"./FormModel\";\nexport { isValid, getErrorText } from \"./ValidationHelpers\";\n\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js","\"use babel\";\n// @flow\n\nimport React from \"react\";\nimport { fromJS, is } from \"immutable\";\nimport Rx from \"rxjs\";\nimport {\n  INITIAL_CHANGE_EVENT_TYPE,\n  VALIDATION_FAILED_EVENT_TYPE,\n  VALUE_CHANGE_EVENT_TYPE,\n  SUBMIT_EVENT_TYPE,\n  createInitialChangeEvent,\n  createSubmitChangeEvent,\n  createValidationFailedEvent,\n  createValueChangeEvent,\n} from \"./FormEvents\";\nimport type { FormEvent } from \"./FormEvents\";\nimport { setValue } from \"./StateValueHelpers\";\nimport {\n  Validation,\n  type ValidationError,\n  type ValidationInfo,\n} from \"./ValidationHelpers\";\nimport StateDispatcher from \"./StateDispatcher\";\nimport PropTypes from \"prop-types\";\n\nexport default function Form(\n  {\n    applyControl = state => state,\n    convertIn = (value, props) => value,\n    convertOut = (value, props) => value,\n    validate = (value, props) => true,\n    checkIfModified = false,\n    immutableInitial = false,\n  }: {\n    applyControl?: (state: any) => any,\n    convertIn?: (value: any, props: any) => Object,\n    convertOut?: (value: any, props: any) => Object,\n    validate?: (value: any, props: any) => ValidationInfo,\n    checkIfModified?: boolean,\n    immutableInitial?: boolean,\n  } = {},\n): (\n  Comp: Class<React.Component<any, any>>,\n) => Class<React.Component<any, any>> {\n  return function FormHOC(\n    WrappedComponent: Class<React.Component<any, any>>,\n  ): Class<React.Component<any, any>> {\n    const WrappedComponentWithDispatcher = StateDispatcher()(WrappedComponent);\n\n    class FormContainer extends React.Component<any, any> {\n      subject: Rx.Subject<FormEvent>;\n      valueChangeObs: Rx.Subject<FormEvent>;\n      rootDispatcherGetter: ?() => any;\n\n      constructor(props) {\n        super();\n        this.subject = new Rx.Subject()\n          .scan(\n            (acc, e) => {\n              const newValidation =\n                e.validation != null ? e.validation : acc.validation;\n              switch (e.type) {\n                case VALUE_CHANGE_EVENT_TYPE:\n                  const newState = setValue(acc.value, e.statePath, e.newValue);\n                  const controlledNewState = applyControl(newState, this.props);\n                  return {\n                    type: VALUE_CHANGE_EVENT_TYPE,\n                    value: controlledNewState,\n                    oldValue: acc.value,\n                    statePath: e.statePath,\n                    validation: newValidation,\n                  };\n                case SUBMIT_EVENT_TYPE:\n                  return {\n                    type: SUBMIT_EVENT_TYPE,\n                    value: acc.value,\n                    validation: acc.validation,\n                  };\n                case INITIAL_CHANGE_EVENT_TYPE:\n                  return {\n                    type: INITIAL_CHANGE_EVENT_TYPE,\n                    value: e.newValue,\n                    oldValue: acc.value,\n                    validation: newValidation,\n                  };\n                case VALIDATION_FAILED_EVENT_TYPE:\n                  return {\n                    type: VALIDATION_FAILED_EVENT_TYPE,\n                    value: acc.value,\n                    validation: e.validation,\n                  };\n                default:\n                  return acc;\n              }\n            },\n            { value: this._getInitialValue(props), validation: true },\n          )\n          .do(\n            e =>\n              global.process &&\n              global.process.env &&\n              global.process.env.FORMALIZR_ENV === \"DEBUG\" &&\n              console.log(\"Form event:\\n\", e),\n          )\n          .share();\n        this.subject.filter(e => e.type == SUBMIT_EVENT_TYPE).subscribe({\n          next: e => this._submit(e.value),\n        });\n        this.valueChangeObs = this.subject\n          .filter(\n            e =>\n              e.type == VALUE_CHANGE_EVENT_TYPE ||\n              e.type == INITIAL_CHANGE_EVENT_TYPE ||\n              e.type == VALIDATION_FAILED_EVENT_TYPE,\n          )\n          .publishBehavior({\n            type: INITIAL_CHANGE_EVENT_TYPE,\n            value: this._getInitialValue(props),\n            validation: true,\n          })\n          .refCount();\n        this.rootDispatcherGetter = null;\n      }\n\n      componentWillReceiveProps(nextProps) {\n        let newInitial = this._getInitialValue(nextProps);\n        let oldInitial = this._getInitialValue(this.props);\n        if (\n          (oldInitial != null &&\n            \"toJS\" in oldInitial &&\n            newInitial != null &&\n            \"toJS\" in newInitial) ||\n          immutableInitial\n        ) {\n          if (newInitial !== oldInitial)\n            this.subject.next(createInitialChangeEvent(newInitial));\n        } else if (oldInitial == null && newInitial != null) {\n          this.subject.next(createInitialChangeEvent(newInitial));\n        } else if (oldInitial != null && newInitial != null) {\n          if (!is(fromJS(newInitial), fromJS(oldInitial)))\n            this.subject.next(createInitialChangeEvent(newInitial));\n        }\n      }\n\n      componentWillUnmount() {\n        this.subject.unsubscribe();\n      }\n\n      _getInitialValue(props) {\n        let v =\n          typeof props.formInputValue != \"function\"\n            ? props.formInputValue\n            : props.formInputValue(props);\n        return convertIn(v == null ? {} : v, props);\n      }\n\n      _mergeValues(value) {\n        return fromJS(value).mergeDeep(\n          this.rootDispatcherGetter\n            ? fromJS(this.rootDispatcherGetter())\n            : fromJS({}),\n        );\n      }\n\n      _submit(value) {\n        let newValue = this._mergeValues(value);\n        if (\n          checkIfModified === false ||\n          !is(newValue, fromJS(this._getInitialValue(this.props)))\n        ) {\n          const validation = validate(newValue.toJS(), this.props);\n          if (validation === true || validation == null) {\n            if (this.props.onSubmit == null) {\n              console.warn(\n                \"Form hasn't received any onSubmit function as props, you may have forgotten it\",\n              );\n            } else {\n              this.props.onSubmit(convertOut(newValue.toJS(), this.props));\n            }\n          } else {\n            const newValidation = new Validation(validation);\n            if (typeof this.props.onValidationFailed === \"function\") {\n              this.props.onValidationFailed(newValidation);\n            }\n            this.subject.next(createValidationFailedEvent(newValidation));\n          }\n        }\n      }\n\n      getChildContext() {\n        return {\n          attachToForm: getter => {\n            this.rootDispatcherGetter = getter;\n          },\n        };\n      }\n      render() {\n        return (\n          <WrappedComponentWithDispatcher\n            {...this.props}\n            onChange={(value: any, statePath: string, validation: Validation) =>\n              this.subject.next(\n                createValueChangeEvent(value, statePath, validation),\n              )}\n            valueChangeObs={this.valueChangeObs}\n            submit={() => this.subject.next(createSubmitChangeEvent())}\n          />\n        );\n      }\n    }\n\n    FormContainer.childContextTypes = {\n      attachToForm: PropTypes.func,\n    };\n\n    return FormContainer;\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Form.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          invariant(\n            false,\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            warning(\n              false,\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `%s` prop on `%s`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.',\n              propFullName,\n              componentName\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunction.thatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOf, expected an instance of array.') : void 0;\n      return emptyFunction.thatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues);\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (propValue.hasOwnProperty(key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunction.thatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        warning(\n          false,\n          'Invalid argument supplid to oneOfType. Expected an array of check functions, but ' +\n          'received %s at index %s.',\n          getPostfixForTypeWarning(checker),\n          i\n        );\n        return emptyFunction.thatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/prop-types/factoryWithTypeCheckers.js\n// module id = 18\n// module chunks = 0","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== 'production') {\n  var invariant = require('fbjs/lib/invariant');\n  var warning = require('fbjs/lib/warning');\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (typeSpecs.hasOwnProperty(typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          invariant(typeof typeSpecs[typeSpecName] === 'function', '%s: %s type `%s` is invalid; it must be a function, usually from ' + 'React.PropTypes.', componentName || 'React class', location, typeSpecName);\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        warning(!error || error instanceof Error, '%s: type specification of %s `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error);\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          warning(false, 'Failed %s type: %s%s', location, error.message, stack != null ? stack : '');\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = checkPropTypes;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/prop-types/checkPropTypes.js\n// module id = 19\n// module chunks = 0","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    invariant(\n      false,\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/prop-types/factoryWithThrowingShims.js\n// module id = 20\n// module chunks = 0","\"use babel\";\n// @flow\nimport React from \"react\";\nimport {\n  INITIAL_CHANGE_EVENT_TYPE,\n  VALIDATION_FAILED_EVENT_TYPE,\n} from \"./FormEvents\";\nimport Rx from \"rxjs\";\nimport PropTypes from \"prop-types\";\nimport { getValue } from \"./StateValueHelpers\";\n\nconst NeverObservable = Rx.Observable.never();\n\nexport default class FormWatcher extends React.Component<\n  DefaultProps,\n  Props,\n  State,\n> {\n  state: State;\n  props: Props;\n  watchPath: string;\n  valueChangeObs: Rx.Observable;\n  subscription: Rx.Subscription;\n  static defaultProps: DefaultProps;\n\n  constructor(props: Props, context: Context) {\n    super(props);\n\n    this.state = {\n      value: null,\n      validation: true,\n    };\n\n    this.watchPath = this.getWatchedPath(props, context);\n    if (this.watchPath == null) {\n      throw new Error(\n        \"watchPath props is not set on FormWatcher, you have to set a statepath string on which the FormWatcher will watch\",\n      );\n    }\n    this.selectObs(props, context);\n  }\n\n  getAssignedObs(props: Props, context: Context): Rx.Observable<any> {\n    if (context.rootValueChangeObs != null) return context.rootValueChangeObs;\n    else return NeverObservable;\n  }\n\n  selectObs(props: Props, context: Context) {\n    this.valueChangeObs = this.getAssignedObs(props, context).filter(e => {\n      if (props.__debug) {\n        console.log(\"FILTERING\", e, \"In watcher\", this.watchPath);\n      }\n      if (e.statePath)\n        return (\n          this.watchPath.startsWith(e.statePath) ||\n          e.statePath.startsWith(this.watchPath)\n        );\n      else if (e.type === INITIAL_CHANGE_EVENT_TYPE) return true;\n      else if (e.type === VALIDATION_FAILED_EVENT_TYPE) return true;\n      else return false;\n    });\n  }\n\n  connectsToFormController() {\n    if (this.subscription) this.subscription.unsubscribe();\n    this.subscription = this.valueChangeObs.subscribe(e => {\n      this.setState({\n        value: e.value,\n        validation: e.validation,\n      });\n    });\n  }\n\n  getWatchedPath(props: Props, context: Context): string {\n    return typeof props.watchPath === \"function\"\n      ? props.watchPath(context.completeStatePath || \"\")\n      : props.watchPath;\n  }\n\n  componentDidMount() {\n    this.connectsToFormController();\n  }\n\n  componentWillReceiveProps(nextProps: Props, nextContext: Context) {\n    if (this.valueChangeObs !== this.getAssignedObs(nextProps, nextContext)) {\n      this.selectObs(nextProps, nextContext);\n      this.connectsToFormController();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n      this.subscription = null;\n    }\n  }\n\n  render() {\n    if (typeof this.props.children !== \"function\")\n      throw new Error(\n        \"children of FormWatcher must be a function of type (stateValue, props) => React$element\",\n      );\n    const watchedValidation =\n      typeof this.state.validation === \"object\" &&\n      this.state.validation !== null\n        ? this.state.validation.getNestedValidation(this.watchPath)\n        : this.state.validation;\n    return this.props.children(\n      {\n        value: this.state.value,\n        watchedValue: getValue(\n          this.state.value,\n          this.getWatchedPath(this.props, this.context),\n        ),\n        watchedStatePath: this.watchPath,\n        validation: this.state.validation,\n        watchedValidation,\n      },\n      this.props,\n    );\n  }\n}\n\nFormWatcher.propTypes = {};\n\nFormWatcher.defaultProps = {\n  __debug: false,\n};\n\nFormWatcher.contextTypes = {\n  rootValueChangeObs: PropTypes.any,\n  completeStatePath: PropTypes.string,\n};\n\ntype DefaultProps = {\n  __debug: false,\n};\n\ntype Props = {\n  watchPath: string | ((path: string) => string),\n  __debug?: boolean,\n  children: (\n    values: {\n      value: ?any,\n      watchedValue: ?any,\n      watchedStatePath: string,\n      validation: any,\n      watchedValidation: any,\n    },\n    props: Object,\n  ) => React$Element<any>,\n};\n\ntype State = {\n  value: any,\n  validation: any,\n};\n\ntype Context = {\n  completeStatePath?: string,\n  rootValueChangeObs: Rx.Observable,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/FormWatcher.js","// @flow\n\nimport { fromJS } from \"immutable\";\n\nexport function notNull(\n  { errorString = \"Not filled\" }: { errorString?: string } = {},\n) {\n  return function validateNotNull(value: mixed) {\n    if (value === null) {\n      return errorString;\n    } else {\n      return true;\n    }\n  };\n}\n\nexport function notUndefined(\n  { errorString = \"not filled\" }: { errorString?: string } = {},\n) {\n  return function validateNotUndefined(value: mixed) {\n    if (value === undefined) {\n      return errorString;\n    } else {\n      return true;\n    }\n  };\n}\n\nexport function notEmpty(\n  { errorString = \"not filled\" }: { errorString?: string } = {},\n) {\n  return function validateNotEmpty(value: mixed) {\n    if (value === \"\") {\n      return errorString;\n    } else {\n      return true;\n    }\n  };\n}\n\nexport function composeValidation(...validates) {\n  return function validateValue(value: mixed, props: Object) {\n    return validates.reduce((red, validate) => {\n      if (red !== true) return red;\n      const validated = validate(value, props);\n      if (validated === true) return true;\n      else return validated;\n    }, true);\n  };\n}\n\nexport function required(\n  { errorString = \"not filled\" }: { errorString?: string } = {},\n) {\n  return composeValidation(\n    notUndefined({ errorString }),\n    notNull({ errorString }),\n    notEmpty({ errorString }),\n  );\n}\n\nexport function isTrue(\n  { errorString = \"not true\" }: { errorString?: string } = {},\n) {\n  return function validateTrue(value: mixed) {\n    if (value !== true) {\n      return errorString;\n    } else {\n      return true;\n    }\n  };\n}\n\nexport function maxLength(\n  max: number,\n  { errorString = \"too long\" }: { errorString?: string } = {},\n) {\n  return function validateMaxLength(value: mixed) {\n    if (typeof value !== \"string\" || value.length > max) {\n      return errorString;\n    } else {\n      return true;\n    }\n  };\n}\n\nexport function lessThan(\n  accessor1: (value: mixed, props: Object) => mixed | string,\n  accessor2: (value: mixed, props: Object) => mixed | string,\n  { error = \"Invalid\" }: { error?: mixed } = {},\n) {\n  return function validateLessThan(value: mixed, props: Object) {\n    if (\n      (typeof accessor1 !== \"function\" && typeof accessor1 !== \"string\") ||\n      (typeof accessor2 !== \"function\" && typeof accessor2 !== \"string\")\n    )\n      throw new Error(\n        \"lessThan validator takes either a function or a stringPath as accessor type\",\n      );\n    const value1 =\n      typeof accessor1 === \"function\"\n        ? accessor1(value, props)\n        : fromJS(value).getIn(accessor1.split(\".\"));\n    const value2 =\n      typeof accessor2 === \"function\"\n        ? accessor2(value, props)\n        : fromJS(value).getIn(accessor2.split(\".\"));\n    // $FlowFixMe\n    if (value1 > value2) {\n      if (typeof error === \"function\") return error(value, props);\n      else return error;\n    } else {\n      return true;\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/ValidationComposition.js","// @flow\n\nimport { fromJS, List, Map } from \"immutable\";\n\nexport type ConversionModel = {\n  out?: string,\n  out_path?: string,\n  default?: ?any,\n  convertIn?: (value: any, props: Object) => any,\n  convertOut?: (value: any, props: Object) => any,\n  complex?: boolean,\n  validate?: $FlowFixMe,\n  [key: string]: ConversionModel,\n};\n\nexport type ConversionJob = {\n  in: string,\n  out: string,\n  convertIn?: (v: any, props: Object) => any,\n  convertOut?: (v: any, props: Object) => any,\n  validate?: $FlowFixMe,\n  default?: any,\n};\n\nexport type ConversionJobs = List<ConversionJob>;\n\nexport function convertConversionModelToConversionJobs(\n  model: ConversionModel,\n  currentInPath?: string = \"\",\n  parentOutPath?: string = \"\",\n): ConversionJobs {\n  if (typeof model !== \"object\" || model == null) {\n    return List();\n  }\n  const currentNodeOutPath =\n    \"out\" in model || \"out_path\" in model\n      ? model.out || model.out_path || \"\"\n      : \"\";\n  const currentOutPath = `${parentOutPath != \"\"\n    ? `${parentOutPath}.${currentNodeOutPath}`\n    : currentNodeOutPath}`;\n  const jobs = List()\n    .concat(\n      currentInPath !== \"\"\n        ? List.of({\n            in: currentInPath,\n            out: currentOutPath,\n            convertIn: \"convertIn\" in model ? model.convertIn : undefined,\n            convertOut: \"convertOut\" in model ? model.convertOut : undefined,\n            default: model.default,\n            validate: \"validate\" in model ? model.validate : undefined,\n          })\n        : List(),\n    )\n    .concat(\n      Object.keys(model)\n        .filter(\n          nodeKey =>\n            ![\n              \"convertIn\",\n              \"convertOut\",\n              \"out\",\n              \"out_path\",\n              \"complex\",\n              \"default\",\n              \"validate\",\n            ].includes(nodeKey),\n        )\n        .reduce((red: ConversionJobs, nodeKey: string): ConversionJobs => {\n          const childNode = model[nodeKey];\n          const childInPath = currentInPath\n            ? `${currentInPath}.${nodeKey}`\n            : nodeKey;\n          return red.concat(\n            convertConversionModelToConversionJobs(\n              childNode,\n              childInPath,\n              currentOutPath,\n            ),\n          );\n        }, List()),\n    );\n  return jobs;\n}\n\nexport function convertIn(jobs: ConversionJobs): Object {\n  return function convertInModelValue(value?: ?Object, props: Object) {\n    if (value == null) return {};\n    const immutableValue = fromJS(value);\n    if (props && props.__debug && console.groupCollapsed) {\n      console.groupCollapsed(\"Form ConvertIn\");\n    }\n    const convertedValue = jobs\n      .reduceRight((red, job) => {\n        const inPath = job.in.split(\".\");\n        const outPath = job.out.split(\".\");\n        const notConvertedValue =\n          inPath.length === 1 && inPath[0] === \"\"\n            ? immutableValue\n            : immutableValue.getIn(inPath, red.getIn(outPath, job.default));\n        const inValue =\n          typeof job.convertIn === \"function\"\n            ? job.convertIn(notConvertedValue, props)\n            : notConvertedValue;\n        let newRed;\n        if (\n          (red.getIn(outPath) != null &&\n            inValue != null &&\n            inValue !== false) ||\n          (outPath.length === 1 && outPath[0] === \"\")\n        )\n          newRed = red;\n        else {\n          newRed = red.setIn(outPath, fromJS(inValue));\n        }\n        if (props && props.__debug) {\n          console.log(\n            \"ConvertIn reducing...\",\n            \"\\nState (initial, red):\",\n            immutableValue,\n            red,\n            \"\\nJob:\",\n            job,\n            \"\\nIn:\",\n            inPath,\n            inValue,\n            \"converted from\",\n            notConvertedValue,\n            \"\\nOut:\",\n            outPath,\n            \"\\nNew reduction:\",\n            newRed,\n          );\n        }\n        return newRed;\n      }, Map())\n      .toJS();\n    if (props && props.__debug) {\n      console.log(\n        \"ConvertIn converted\",\n        value,\n        \"into\",\n        convertedValue,\n        \"with props\",\n        props,\n        \"and jobs\",\n        jobs,\n      );\n      if (console.groupEnd) {\n        console.groupEnd();\n      }\n    }\n    return convertedValue;\n  };\n}\n\nexport function convertOut(jobs: ConversionJobs): Object {\n  return function convertOutModelValue(value?: ?Object, props: Object) {\n    if (value == null) return {};\n    const immutableValue = fromJS(value);\n    if (props && props.__debug && console.groupCollapsed) {\n      console.groupCollapsed(\"Form ConvertOut\");\n    }\n    const convertedValue = jobs\n      .reduceRight((red, job) => {\n        const outPath = job.out.split(\".\");\n        const notConvertedValue = immutableValue.getIn(outPath);\n        const outValue =\n          typeof job.convertOut === \"function\"\n            ? job.convertOut(notConvertedValue, props)\n            : notConvertedValue;\n        if (outValue === undefined) {\n          return red;\n        }\n        const inPath = job.in.split(\".\");\n        let newRed;\n        if (\n          ((red.getIn(inPath) != null && outValue != null) ||\n            (inPath.length === 1 && inPath[0] === \"\")) &&\n          !job.convertOut\n        )\n          newRed = red;\n        else {\n          newRed = red.setIn(inPath, outValue);\n        }\n        if (props && props.__debug) {\n          console.log(\n            \"ConvertOut reducing...\",\n            \"\\nState (initial, red):\",\n            immutableValue,\n            red,\n            \"\\nJob:\",\n            job,\n            \"\\nOut:\",\n            outPath,\n            outValue,\n            \"converted from\",\n            notConvertedValue,\n            \"\\nIn:\",\n            inPath,\n            \"\\nNew reduction:\",\n            newRed,\n          );\n        }\n        return newRed;\n      }, Map())\n      .toJS();\n    if (props && props.__debug) {\n      console.log(\n        \"ConvertOut converted\",\n        value,\n        \"into\",\n        convertedValue,\n        \"with props\",\n        props,\n        \"and jobs\",\n        jobs,\n      );\n      if (console.groupEnd) {\n        console.groupEnd();\n      }\n    }\n    return convertedValue;\n  };\n}\n\nexport function validateModel(jobs: ConversionJobs) {\n  return function validateState(value?: ?Object, props: Object) {\n    const immutableValue = fromJS(value);\n    const wholeValidation = jobs.reduceRight((red, job) => {\n      const outPath = job.out.split(\".\");\n      const fieldValue = immutableValue.getIn(outPath);\n      if (\n        outPath.length === 1 &&\n        outPath[0] === \"\" &&\n        typeof job.validate === \"function\"\n      )\n        throw new Error(\n          \"You can't use validation if you don't have any out, either in the current node or a parent one. At \" +\n            job.in,\n        );\n      const validation =\n        typeof job.validate === \"function\"\n          ? job.validate(fieldValue, props)\n          : true;\n      if (\n        validation === true ||\n        validation === null ||\n        validation === undefined\n      ) {\n        return red;\n      } else {\n        return (typeof red === \"object\" ? red : Map()).setIn(\n          outPath,\n          validation,\n        );\n      }\n    }, true);\n\n    if (typeof wholeValidation === \"object\") return wholeValidation.toJS();\n    else return wholeValidation;\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/FormModel.js"],"sourceRoot":""}